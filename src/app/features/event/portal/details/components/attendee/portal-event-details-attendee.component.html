<div>

  <span>
    <app-icon id="user-group" [icon]="['fas', 'user-group']"></app-icon>
    {{ approvedAttendees?.length ?? 0 }}
    {{ maxAttendees ? '/ ' + maxAttendees: '' }}
  </span>

  <ng-container *ngIf="currentUserAttendee; else attendSection">
    <i *ngIf="currentUserAttendee?.approved"
      appLabel="youAttendToThisEvent">
    </i>

    <i *ngIf="!currentUserAttendee?.approved"
      appLabel="yourRegistrationIsInProcess">
    </i>

    <button mat-flat-button color="primary" (click)="cancel()">
      <span>
        <app-icon [icon]="['fas', 'right-from-bracket']"></app-icon>
        <span appLabel="deRegister"></span>
      </span>
    </button>
  </ng-container>

  <ng-template #attendSection>
    <button *ngIf="!maxAttendees
        || (approvedAttendees?.length || 0) < maxAttendees;
        else fullyBooked"
      mat-flat-button color="primary" (click)="attend()">
      <span>
        <app-icon [icon]="['fas', 'right-from-bracket']"></app-icon>
        <span appLabel="attend"></span>
      </span>
    </button>

    <ng-template #fullyBooked>
      <i appLabel="unfortunatelyEventFullyBooked"></i>
    </ng-template>
  </ng-template>

</div>