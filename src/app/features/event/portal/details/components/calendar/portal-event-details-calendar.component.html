<div *ngIf="event?.hasSchedules; else noSchedules">
  <section>
    <app-icon [icon]="['far', 'calendar']" [size]="'lg'"></app-icon>
    <button *ngIf="event?.schedule" mat-button
      [matMenuTriggerFor]="menu"
      (menuClosed)="this.selectedSchedule = undefined;">

      <i>{{event?.schedule?.startDate| localDate: 'medium' }}</i>
    </button>
    <span class="piece" *ngIf="!event?.schedule" appLabel="schedulesInThePast"></span>
  </section>
</div>

<ng-template #noSchedules>
  <section>
    <app-icon [icon]="['far', 'calendar']" [size]="'lg'"></app-icon>
    <i appLabel="noFixedDates"></i>
  </section>
</ng-template>

<mat-menu #menu="matMenu">
  <div>
    <app-calendar
      [queryParams]="false"
      [dates]="startDates"
      (click)="$event.stopPropagation()"
      (monthSelected)="monthSelected($event)"
      (daySelected)="daySelected($event)">
    </app-calendar>
    <div class="date" *ngIf="selectedSchedule">
      <span>{{selectedSchedule.startDate | localDate: 'calendar'}}</span>
      <span appLabel="to"></span>
      <span>{{selectedSchedule.endDate | localDate: 'calendar'}}</span>
    </div>
  </div>
</mat-menu>